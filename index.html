<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Newland N950 HTML Test</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      text-align: center;
      padding-top: 50px;
      transition: background-color 0.3s, color 0.3s;
    }
    h1 {
      color: #333;
    }
    .button {
      display: inline-block;
      margin: 10px;
      padding: 15px 25px;
      font-size: 16px;
      color: #fff;
      background-color: #007BFF;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    .button:hover {
      background-color: #0056b3;
    }
    .url-box {
      margin-top: 20px;
    }
    input[type="text"] {
      padding: 10px;
      width: 300px;
      font-size: 16px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    pre {
      text-align: left;
      display: inline-block;
      background: #fff;
      border: 1px solid #ccc;
      padding: 15px;
      border-radius: 10px;
      max-width: 90%;
      overflow-x: auto;
    }
    .dark-mode {
      background-color: #1e1e1e;
      color: #e0e0e0;
    }
    .dark-mode pre {
      background: #2d2d2d;
      color: #e0e0e0;
    }
    #errorBox {
      margin-top: 20px;
      padding: 10px;
      border: 1px solid #f44336;
      background-color: #ffcdd2;
      color: #b71c1c;
      font-weight: bold;
      border-radius: 5px;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
      display: none;
    }
  </style>
</head>
<body>
  <h1>Newland N950 HTML Test</h1>
  <button class="button" onclick="abrirConfiguracion()">Abrir Configuraci贸n</button>
  <button class="button" onclick="abrirLauncher()">Abrir Launcher</button>
  <button class="button" onclick="abrirTelegram()">Abrir Telegram Web</button>
  <button class="button" onclick="abrirGoogle()">Abrir Google</button>
  <button class="button" onclick="abrirYouTube()">Abrir YouTube</button>
  <button class="button" onclick="llamar()">Llamar al *444</button>
  <button class="button" onclick="marcarIMEI()">Mostrar IMEI</button>
  <button class="button" onclick="recargarPagina()">Recargar P谩gina</button>
  <button class="button" onclick="toggleDarkMode()">Alternar Modo Oscuro</button>
  <div class="url-box">
    <input type="text" id="urlInput" placeholder="Introduce una URL" />
    <button class="button" onclick="irAUrl()">Ir a URL</button>
  </div>
  <br />
  <button class="button" onclick="mostrarInformacion()">Mostrar Informaci贸n del Dispositivo</button>
  <button class="button" onclick="copiarInformacion()">Copiar Informaci贸n</button>
  <button class="button" onclick="descargarInformacion()">Descargar Informaci贸n</button>
  <pre id="info"></pre>
  <div id="errorBox"></div>
  <script>
    let iframeIntent = null;
    let errorTimeout = null;
    function abrirConfiguracion() {
      const intentURL = "intent://com.android.settings/#Intent;scheme=android-app;package=com.android.settings;end";
      const errorBox = document.getElementById("errorBox");
      errorBox.style.display = "none";
      errorBox.textContent = "";
      try {
        console.log("Launching intent URL:", intentURL);
        window.location.href = intentURL;
        setTimeout(() => {
          if (!iframeIntent) {
            iframeIntent = document.createElement("iframe");
            iframeIntent.style.display = "none";
            iframeIntent.src = intentURL;
            document.body.appendChild(iframeIntent);
            console.log("Fallback iframe intent added");
          }
        }, 1000);
        clearTimeout(errorTimeout);
        errorTimeout = setTimeout(() => {
          errorBox.textContent = "Error: No se pudo abrir la configuraci贸n. Verifique que su dispositivo soporte esta acci贸n.";
          errorBox.style.display = "block";
        }, 3000);
      } catch (err) {
        errorBox.textContent = "Excepci贸n detectada: " + err.message;
        errorBox.style.display = "block";
      }
    }
    function abrirLauncher() {
      window.location.href = "intent://com.android.launcher3/#Intent;scheme=android-app;end";
    }
    function abrirTelegram() {
      window.open("https://web.telegram.org/", "_blank");
    }
    function abrirGoogle() {
      window.open("https://www.google.com", "_blank");
    }
    function abrirYouTube() {
      window.open("https://www.youtube.com", "_blank");
    }
    function llamar() {
      window.location.href = "tel:*444";
    }
    function marcarIMEI() {
      window.location.href = "tel:*#06#";
    }
    function recargarPagina() {
      location.reload();
    }
    function irAUrl() {
      const url = document.getElementById("urlInput").value;
      if (url.trim() !== "") {
        const finalUrl = url.startsWith("http://") || url.startsWith("https://") ? url : "https://" + url;
        window.open(finalUrl, "_blank");
      } else {
        alert("Por favor, introduce una URL v谩lida.");
      }
    }
    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
    }
    function mostrarInformacion() {
      const info = document.getElementById("info");
      const start = performance.now();
      requestAnimationFrame(() => {
        const fps = Math.round(1000 / (performance.now() - start));
        let contenido = "=== Informaci贸n del Navegador ===\n";
        contenido += `User Agent: ${navigator.userAgent}\n`;
        contenido += `Plataforma: ${navigator.platform}\n`;
        contenido += `Idioma: ${navigator.language}\n`;
        contenido += `Zona Horaria: ${Intl.DateTimeFormat().resolvedOptions().timeZone}\n`;
        if (navigator.connection) {
          contenido += `\n=== Red ===\n`;
          contenido += `Tipo de conexi贸n: ${navigator.connection.effectiveType}\n`;
          contenido += `Downlink: ${navigator.connection.downlink} Mbps\n`;
        }
        navigator.getBattery?.().then(battery => {
          contenido += `\n=== Bater铆a ===\n`;
          contenido += `Nivel: ${Math.round(battery.level * 100)}%\n`;
          contenido += `Cargando: ${battery.charging ? "S铆" : "No"}\n`;
          info.textContent = contenido;
        });
        navigator.geolocation?.getCurrentPosition(pos => {
          contenido += `\n=== Geolocalizaci贸n ===\n`;
          contenido += `Latitud: ${pos.coords.latitude}\n`;
          contenido += `Longitud: ${pos.coords.longitude}\n`;
          info.textContent = contenido;
        });
        navigator.mediaDevices?.enumerateDevices().then(devices => {
          contenido += `\n=== Dispositivos Multimedia ===\n`;
          devices.forEach(d => (contenido += `${d.kind}: ${d.label || "(sin nombre)"}\n`));
          info.textContent = contenido;
        });
        navigator.permissions?.query({ name: "geolocation" }).then(result => {
          contenido += `\n=== Permisos ===\nGeolocalizaci贸n: ${result.state}\n`;
          info.textContent = contenido;
        });
        if (Notification.permission !== "denied") {
          Notification.requestPermission().then(p => {
            if (p === "granted") {
              new Notification("Prueba de notificaci贸n", { body: "隆Hola desde tu navegador!" });
            }
          });
        }
        window.addEventListener(
          "deviceorientation",
          event => {
            contenido += `\n=== Orientaci贸n del Dispositivo ===\n`;
            contenido += `Alpha: ${event.alpha}\nBeta: ${event.beta}\nGamma: ${event.gamma}\n`;
            info.textContent = contenido;
          },
          { once: true }
        );
        info.textContent = contenido;
      });
    }
    function copiarInformacion() {
      const text = document.getElementById("info").textContent;
      navigator.clipboard.writeText(text).then(() => alert("Informaci贸n copiada al portapapeles."));
    }
    function descargarInformacion() {
      const text = document.getElementById("info").textContent;
      const blob = new Blob([text], { type: "text/plain" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "informacion_dispositivo.txt";
      link.click();
    }
  </script>
  <div class="footer">Powered by Nikki Ж</div>
</body>
</html>
